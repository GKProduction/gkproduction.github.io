<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fall Dash: Classic</title>
    <link rel="shortcut icon" type="image/png" href="favicon.png"/>
    <link rel="stylesheet" href="styles.css">
    
<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();
   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(99759821, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/99759821" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

</head>
<!-- Пока что тут бардак, но изменения будут -->
<body>

<!-- Кнопка переключения языка -->
<div id="language-switcher">
    <button id="language-button">
        <img id="language-flag" src="languages/en-US.png" alt="Switch language" draggable="false">
    </button>
</div>

<!-- Область страницы -->
<div class="container">
	<!-- Логотип игры -->
	<div class="logo">
	<img src="logo.png" alt="Fall Dash: Classic">
	</div>

	<!-- Галерея скриншотов -->
	<div class="gallery-container">
		<div class="gallery">
		<img src="screenshots/1.png" alt="1">
		<img src="screenshots/2.png" alt="2">
		<img src="screenshots/3.png" alt="3">
		<img src="screenshots/4.png" alt="4">
		<img src="screenshots/5.png" alt="5">
		</div>
		
		<!-- Ползунок прокрутки -->
		<div class="custom-scrollbar">
		<div class="scrollbar-thumb"></div>
		</div>
	</div>



	<!-- Описание игры -->
	<div class="description">
		<h2 data-key="description.about_title"></h2>
		<p data-key="description.about1"></p>
		<p data-key="description.about2"></p>
		<h2 data-key="description.how_to_play_title"></h2>
		<p data-key="description.how_to_play_text"></p>
	</div>

	<!-- Ссылки на игру -->
	<div class="buttons-title">
	<h2 style ="font-size: 56px; margin-bottom: 16px;" data-key="play_game.title"></h2>
	</div>

	<div class="buttons-container">
		<div class="buttons">
			<a href="https://play.google.com/store/apps/details?id=ru.gkproduction.falldashclassic" target="_blank" class="button-link">
				<img src="button_mobile.png" alt="Google Play" class="button-icon">
				<img src="../../images/platforms/google_play.png" class="button-hover-icon">
			</a>
			<a href="https://www.rustore.ru/catalog/app/ru.gkproduction.falldashclassic" target="_blank" class="button-link">
				<img src="button_mobile.png" alt="RuStore" class="button-icon">
				<img src="../../images/platforms/rustore.png" class="button-hover-icon">
			</a>
			<a href="https://www.newgrounds.com/portal/view/945991" target="_blank" class="button-link">
				<img src="button_web.png" alt="Newgrounds" class="button-icon">
				<img src="../../images/platforms/newground.png" class="button-hover-icon">
			</a>
			<a href="https://vk.com/app52094450" target="_blank" class="button-link">
				<img src="button_web.png" alt="VK Games" class="button-icon">
				<img src="../../images/platforms/vkontakte.png" class="button-hover-icon">
			</a>
			<a href="https://gamejolt.com/games/fall_dash_classic/934213" target="_blank" class="button-link">
				<img src="button_pc.png" alt="Game Jolt" class="button-icon">
				<img src="../../images/platforms/game_jolt.png" class="button-hover-icon">
			</a>
			<a href="https://vkplay.ru/play/game/fall_dash_classic" target="_blank" class="button-link">
				<img src="button_pc.png" alt="VK Play" class="button-icon">
				<img src="../../images/platforms/vk_play.png" class="button-hover-icon">
			</a>
			<a href="https://gkproduction.itch.io/fall_dash_classic" target="_blank" class="button-link">
				<img src="button_pc.png" alt="itch.io" class="button-icon">
				<img src="../../images/platforms/itch_io.png" class="button-hover-icon">
			</a>
		</div>
	</div>

	<!-- Исходный код -->
	<div class="source-code">
		<div>
		<h2 data-key="source.title"></h2>
		</div>
		<a href="https://github.com/GKProduction/Fall-Dash-Classic" target="_blank" class="button-link">
			<img src="../../images/platforms/github_full_bg.png" alt="GitHub" style="width: 166px;" class="button-icon">
			<img src="../../images/platforms/github_full.png" class="source-button-hover-icon">
		</a>
		<a href="https://steamcommunity.com/sharedfiles/filedetails/?id=3421792207" target="_blank" class="button-link">
			<img src="../../images/platforms/steam_workshop_bg.png" alt="Steam Workshop" style="width: 166px;" class="button-icon">
			<img src="../../images/platforms/steam_workshop.png" class="source-button-hover-icon">
		</a>
	</div>

	<!-- Копирайт -->
	<div class="footer-content">
	<p><a href="https://gkproduction.github.io" class="footer-link">
	©GKProduction 2016-2025
	</a></p>
	</div>
</div>

    <script>
        // Функция для открытия изображения во весь экран
        function openFullImage(src) {
            window.open(src, '_blank');
        }
    </script>
    
    
<div id="fullscreen-overlay">
    <span id="close-btn">&times;</span>
    <img id="fullscreen-image" src="" alt="Увеличенное изображение">
</div>

<script>
    // Функция для открытия изображения в полноэкранном режиме
    function openFullImage(src) {
        const overlay = document.getElementById('fullscreen-overlay');
        const fullscreenImage = document.getElementById('fullscreen-image');
        fullscreenImage.src = src;
        overlay.style.display = 'flex';
    }

    // Функция для закрытия полноэкранного режима
    document.getElementById('close-btn').addEventListener('click', () => {
        document.getElementById('fullscreen-overlay').style.display = 'none';
    });

    // Закрытие при клике вне изображения
    document.getElementById('fullscreen-overlay').addEventListener('click', (e) => {
        if (e.target === document.getElementById('fullscreen-overlay')) {
            document.getElementById('fullscreen-overlay').style.display = 'none';
        }
    });
</script>


<script>
    // Добавляем обработчик клика на изображения в галерее
    document.querySelectorAll('.gallery img').forEach(img => {
        img.addEventListener('click', () => {
            openFullImage(img.src);
        });
    });
</script>

<!-- Локализация страницы -->
<script>
    let currentLang = 'en-US'; // Язык по умолчанию
    const supportedLanguages = ['en-US', 'ru-RU']; // Поддерживаемые языки
    const cisLanguages = ['ru', 'ru-RU', 'uk', 'be']; // Языки СНГ (русский, украинский, белорусский)

    // Функция для загрузки JSON
    async function loadTranslations(lang) {
        const response = await fetch(`languages/${lang}.json`); // Загружаем JSON-файл для текущего языка
        translations = await response.json(); // Парсим JSON
        updateContent(); // Обновляем текст и изображение на странице
    }

    // Функция для обновления текста и изображения на странице
    function updateContent() {
        // Обновляем текст
        document.querySelectorAll('[data-key]').forEach(element => {
            const key = element.getAttribute('data-key');
            if (translations[key]) {
                element.textContent = translations[key];
            }
        });

        // Обновляем изображение кнопки
        const flagElement = document.getElementById('language-flag');
        if (currentLang) {
            flagElement.src = 'languages/' + currentLang + '.png';
        }
    }

    // Функция для переключения языка
    function switchLanguage(lang) {
        if (supportedLanguages.includes(lang)) {
            currentLang = lang;
            loadTranslations(currentLang); // Загружаем переводы для нового языка
        }
    }

    // Функция для определения языка браузера
    function detectBrowserLanguage() {
        const browserLang = navigator.language || navigator.languages[0]; // Основной язык браузера

        // Проверяем, является ли язык браузера русским или другим языком СНГ
        if (cisLanguages.includes(browserLang)) {
            return 'ru-RU'; // Переключаем на русский
        }
        return 'en-US'; // По умолчанию английский
    }

    // Инициализация языка при загрузке страницы
    const initialLang = detectBrowserLanguage(); // Определяем язык браузера
    switchLanguage(initialLang); // Устанавливаем язык

    // Обработчик клика на кнопку
    document.getElementById('language-button').addEventListener('click', () => {
        const newLang = currentLang === 'ru-RU' ? 'en-US' : 'ru-RU'; // Переключаем язык
        switchLanguage(newLang);
    });
</script>
</body>
</html>